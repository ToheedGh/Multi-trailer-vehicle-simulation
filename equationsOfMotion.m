function res = equationsOfMotion(t,y,yp,param)

% Nonlinear implicit equations of motion of a single-track, 4 units articulated vehicle, 
% with 6 axles and 2 steerable axles.
% The tyre model is linear, and considering the friction ellipse combined slip model.
% The model includes: 
% no lateral load transfer, 
% body force parallel to the road surface, 
% air resistance force, 
% no rolling resistance force.

% States are x = [vx, vy, phi1, derPhi_t1, thet1, thet2, thet3, derThet_t1, derThet_t2, derThet_t3].
% States derivatives are x = [derVx_t, derVy_t, derPhi_t1, derThet_t1, derThet_t2, derThet_t3, derderThet_t1, derderThet_t2, derderThet_t3].
% Inputs are u = [Fxw1_1, Fxw1_2, Fxw2_1, Fxw3_1, Fxw3_2, Fxw4_1, del1_1, del3_1].
% where, Fxwi_j is the longitudinal axle force in axle wheel frame, i: unit index, j: axle index;
% and, similarly, deli_j denote steering angles. 

% User-defined parameters: 

% nUnits, % Number of vehicle units 
% m1, m2, m3, m4,                      % Unit masses 
% J1, J2, J3, J4,                      % Unit inertias 
% xA1_1, xA1_2, xA2_1, xA3_1, xA3_2, xA4_1,                % Local x position of the axle w.r.t. unit COG 
% xC1_1, xC1_2, xC2_1, xC2_2, xC3_1, xC3_2, xC4_1, xC4_2,                % Unit coupling local x position w.r.t. unit COG
% nW1_1, nW1_2, nW2_1, nW3_1, nW3_2, nW4_1,                % Number of wheels per axle 
% Fz0A1_1, Fz0A1_2, Fz0A2_1, Fz0A3_1, Fz0A3_2, Fz0A4_1,              % Axle static vertical load 
% pitchAng1, pitchAng2, pitchAng3, pitchAng4,           % Road pitch angle at cog of each unit (positive downhill)
% bankAng1, bankAng2, bankAng3, bankAng4,            % Road banking angle around local x-axis, positive downhill at the left (driver) side 
% e,                      % friction circle scale factor (if e is not 1 then the circle changes to an ellipse)
% g, AfcdRhoa, fr,           % Gravitational constant, air resistance coefficients, rolling resistance coefficient (if included in the model)
% mu1_1, mu1_2, mu2_1, mu3_1, mu3_2, mu4_1,                % Road friction coefficient (can be different for different axles and sides depending on road position)
% C1_1, C1_2, C2_1, C3_1, C3_2, C4_1,             %  A single wheel cornering stiffness (can be different for different axles and sides)

% States: 

phi1 = y(3);
thet1 = y(4);
thet2 = y(5);
thet3 = y(6);
vx = y(7);
vy = y(8);
derPhi_t1 = y(9);
derThet_t1 = y(10);
derThet_t2 = y(11);
derThet_t3 = y(12);

% State derivatives: 

derVx_t = yp(7);
derVy_t = yp(8);
derderPhi_t1 = yp(9);
derderThet_t1 = yp(10);
derderThet_t2 = yp(11);
derderThet_t3 = yp(12);

% Inputs: 

Fxw1_1= param.Fxw(1,1);  % Input force
del1_1= param.del(1,1);  % Input steering angle
Fxw1_2= param.Fxw(1,2);  % Input force

Fxw2_1= param.Fxw(2,1);  % Input force

Fxw3_1= param.Fxw(3,1);  % Input force
del3_1= param.del(3,1);  % Input steering angle
Fxw3_2= param.Fxw(3,2);  % Input force

Fxw4_1= param.Fxw(4,1);  % Input force

% A very simple proportional speed controller (controlling the second axle longitudinal force):
Fxw1_2=(param.vxRef(floor(t*param.sampleRate)+1)-vx)*(sum(param.m));
 
% Reading the steering input of the first axle: 
if t <1/param.sampleRate 
    del1_1 =0;
else 
    del1_1 = param.del1Ref(floor(t*param.sampleRate));
end 

% Reading param to set the user-defined parameters: 

nUnits   =4;           % Number of vehicle units
% Unit 1
m1       = param.m(1);             % Unit mass (kg)
J1       = param.J(1);             % Unit inertia (km m^2)
pitchAng1= param.pitchAng(1);      % Road pitch angle at cog of each unit (positive downhill) (rad)
bankAng1 = param.bankAng(1);       % Road banking angle around local x-axis, positive downhill at the left side (rad)
xC1_1      = param.xC(1,1);          % Unit coupling local x position w.r.t. unit COG
xC1_2      = param.xC(1,2);          % Unit coupling local x position w.r.t. unit COG
mu1_1      = param.mu(1,1);          % Road friction
C1_1       = param.C(1,1);           % Cornering stiffness (N)
xA1_1      = param.xA(1,1);          % Local x position of the axle w.r.t. unit COG (m)
nW1_1      = param.nW(1,1);          % Number of wheels per axle
Fz0A1_1    = param.Fz0A(1,1);        % Axle static vertical load (N)
mu1_2      = param.mu(1,2);          % Road friction
C1_2       = param.C(1,2);           % Cornering stiffness (N)
xA1_2      = param.xA(1,2);          % Local x position of the axle w.r.t. unit COG (m)
nW1_2      = param.nW(1,2);          % Number of wheels per axle
Fz0A1_2    = param.Fz0A(1,2);        % Axle static vertical load (N)

% Unit 2
m2       = param.m(2);             % Unit mass (kg)
J2       = param.J(2);             % Unit inertia (km m^2)
pitchAng2= param.pitchAng(2);      % Road pitch angle at cog of each unit (positive downhill) (rad)
bankAng2 = param.bankAng(2);       % Road banking angle around local x-axis, positive downhill at the left side (rad)
xC2_1      = param.xC(2,1);          % Unit coupling local x position w.r.t. unit COG
xC2_2      = param.xC(2,2);          % Unit coupling local x position w.r.t. unit COG
mu2_1      = param.mu(2,1);          % Road friction
C2_1       = param.C(2,1);           % Cornering stiffness (N)
xA2_1      = param.xA(2,1);          % Local x position of the axle w.r.t. unit COG (m)
nW2_1      = param.nW(2,1);          % Number of wheels per axle
Fz0A2_1    = param.Fz0A(2,1);        % Axle static vertical load (N)

% Unit 3
m3       = param.m(3);             % Unit mass (kg)
J3       = param.J(3);             % Unit inertia (km m^2)
pitchAng3= param.pitchAng(3);      % Road pitch angle at cog of each unit (positive downhill) (rad)
bankAng3 = param.bankAng(3);       % Road banking angle around local x-axis, positive downhill at the left side (rad)
xC3_1      = param.xC(3,1);          % Unit coupling local x position w.r.t. unit COG
xC3_2      = param.xC(3,2);          % Unit coupling local x position w.r.t. unit COG
mu3_1      = param.mu(3,1);          % Road friction
C3_1       = param.C(3,1);           % Cornering stiffness (N)
xA3_1      = param.xA(3,1);          % Local x position of the axle w.r.t. unit COG (m)
nW3_1      = param.nW(3,1);          % Number of wheels per axle
Fz0A3_1    = param.Fz0A(3,1);        % Axle static vertical load (N)
mu3_2      = param.mu(3,2);          % Road friction
C3_2       = param.C(3,2);           % Cornering stiffness (N)
xA3_2      = param.xA(3,2);          % Local x position of the axle w.r.t. unit COG (m)
nW3_2      = param.nW(3,2);          % Number of wheels per axle
Fz0A3_2    = param.Fz0A(3,2);        % Axle static vertical load (N)

% Unit 4
m4       = param.m(4);             % Unit mass (kg)
J4       = param.J(4);             % Unit inertia (km m^2)
pitchAng4= param.pitchAng(4);      % Road pitch angle at cog of each unit (positive downhill) (rad)
bankAng4 = param.bankAng(4);       % Road banking angle around local x-axis, positive downhill at the left side (rad)
xC4_1      = param.xC(4,1);          % Unit coupling local x position w.r.t. unit COG
xC4_2      = param.xC(4,2);          % Unit coupling local x position w.r.t. unit COG
mu4_1      = param.mu(4,1);          % Road friction
C4_1       = param.C(4,1);           % Cornering stiffness (N)
xA4_1      = param.xA(4,1);          % Local x position of the axle w.r.t. unit COG (m)
nW4_1      = param.nW(4,1);          % Number of wheels per axle
Fz0A4_1    = param.Fz0A(4,1);        % Axle static vertical load (N)

e     = param.e;             % friction ellipse scale factor (if e is 1 then the ellipse becomes a circle)
g        = param.g;                % Gravitational acceleration (m/s^2)
AfcdRhoa = param.AfcdRhoa;         % air resistance coefficients (N/(m/s)^2)

%% Equations: 
A = m1*vx + m2*vx + m3*vx + m4*vx - m2*xC2_1*sin(thet1)*derPhi_t1 - m3*xC2_1*sin(thet1)*derPhi_t1 + m3*xC2_2*sin(thet1)*derPhi_t1 - m4*xC2_1*sin(thet1)*derPhi_t1 + m4*xC2_2*sin(thet1)*derPhi_t1 + m2*xC2_1*sin(thet1)*derThet_t1 + m3*xC2_1*sin(thet1)*derThet_t1 - m3*xC2_2*sin(thet1)*derThet_t1 + m4*xC2_1*sin(thet1)*derThet_t1 - m4*xC2_2*sin(thet1)*derThet_t1 - m4*xC4_1*sin(thet1 + thet2 + thet3)*derPhi_t1 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t1 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t2 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t3 - m3*xC3_1*sin(thet1 + thet2)*derPhi_t1 - m4*xC3_1*sin(thet1 + thet2)*derPhi_t1 + m4*xC3_2*sin(thet1 + thet2)*derPhi_t1 + m3*xC3_1*sin(thet1 + thet2)*derThet_t1 + m3*xC3_1*sin(thet1 + thet2)*derThet_t2 + m4*xC3_1*sin(thet1 + thet2)*derThet_t1 + m4*xC3_1*sin(thet1 + thet2)*derThet_t2 - m4*xC3_2*sin(thet1 + thet2)*derThet_t1 - m4*xC3_2*sin(thet1 + thet2)*derThet_t2;
B = m1*vy + m2*vy + m3*vy + m4*vy + m2*xC1_2*derPhi_t1 + m3*xC1_2*derPhi_t1 + m4*xC1_2*derPhi_t1 - m2*xC2_1*cos(thet1)*derPhi_t1 - m3*xC2_1*cos(thet1)*derPhi_t1 + m3*xC2_2*cos(thet1)*derPhi_t1 - m4*xC2_1*cos(thet1)*derPhi_t1 + m4*xC2_2*cos(thet1)*derPhi_t1 + m2*xC2_1*cos(thet1)*derThet_t1 + m3*xC2_1*cos(thet1)*derThet_t1 - m3*xC2_2*cos(thet1)*derThet_t1 + m4*xC2_1*cos(thet1)*derThet_t1 - m4*xC2_2*cos(thet1)*derThet_t1 - m4*xC4_1*cos(thet1 + thet2 + thet3)*derPhi_t1 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t1 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t2 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t3 - m3*xC3_1*cos(thet1 + thet2)*derPhi_t1 - m4*xC3_1*cos(thet1 + thet2)*derPhi_t1 + m4*xC3_2*cos(thet1 + thet2)*derPhi_t1 + m3*xC3_1*cos(thet1 + thet2)*derThet_t1 + m3*xC3_1*cos(thet1 + thet2)*derThet_t2 + m4*xC3_1*cos(thet1 + thet2)*derThet_t1 + m4*xC3_1*cos(thet1 + thet2)*derThet_t2 - m4*xC3_2*cos(thet1 + thet2)*derThet_t1 - m4*xC3_2*cos(thet1 + thet2)*derThet_t2;
derA_t = m1*derVx_t + m2*derVx_t + m3*derVx_t + m4*derVx_t + m3*xC3_1*cos(thet1 + thet2)*derThet_t1^2 + m3*xC3_1*cos(thet1 + thet2)*derThet_t2^2 + m4*xC3_1*cos(thet1 + thet2)*derThet_t1^2 + m4*xC3_1*cos(thet1 + thet2)*derThet_t2^2 - m4*xC3_2*cos(thet1 + thet2)*derThet_t1^2 - m4*xC3_2*cos(thet1 + thet2)*derThet_t2^2 - m2*xC2_1*sin(thet1)*derderPhi_t1 - m3*xC2_1*sin(thet1)*derderPhi_t1 + m3*xC2_2*sin(thet1)*derderPhi_t1 - m4*xC2_1*sin(thet1)*derderPhi_t1 + m4*xC2_2*sin(thet1)*derderPhi_t1 + m2*xC2_1*sin(thet1)*derderThet_t1 + m3*xC2_1*sin(thet1)*derderThet_t1 - m3*xC2_2*sin(thet1)*derderThet_t1 + m4*xC2_1*sin(thet1)*derderThet_t1 - m4*xC2_2*sin(thet1)*derderThet_t1 - m4*xC4_1*sin(thet1 + thet2 + thet3)*derderPhi_t1 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derderThet_t1 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derderThet_t2 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derderThet_t3 - m3*xC3_1*sin(thet1 + thet2)*derderPhi_t1 - m4*xC3_1*sin(thet1 + thet2)*derderPhi_t1 + m4*xC3_2*sin(thet1 + thet2)*derderPhi_t1 + m3*xC3_1*sin(thet1 + thet2)*derderThet_t1 + m3*xC3_1*sin(thet1 + thet2)*derderThet_t2 + m4*xC3_1*sin(thet1 + thet2)*derderThet_t1 + m4*xC3_1*sin(thet1 + thet2)*derderThet_t2 - m4*xC3_2*sin(thet1 + thet2)*derderThet_t1 - m4*xC3_2*sin(thet1 + thet2)*derderThet_t2 + m2*xC2_1*cos(thet1)*derThet_t1^2 + m3*xC2_1*cos(thet1)*derThet_t1^2 - m3*xC2_2*cos(thet1)*derThet_t1^2 + m4*xC2_1*cos(thet1)*derThet_t1^2 - m4*xC2_2*cos(thet1)*derThet_t1^2 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t1^2 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t2^2 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t3^2 - m2*xC2_1*cos(thet1)*derPhi_t1*derThet_t1 - m3*xC2_1*cos(thet1)*derPhi_t1*derThet_t1 + m3*xC2_2*cos(thet1)*derPhi_t1*derThet_t1 - m4*xC2_1*cos(thet1)*derPhi_t1*derThet_t1 + m4*xC2_2*cos(thet1)*derPhi_t1*derThet_t1 - m4*xC4_1*cos(thet1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC4_1*cos(thet1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC4_1*cos(thet1 + thet2 + thet3)*derPhi_t1*derThet_t3 + 2*m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t1*derThet_t2 + 2*m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t1*derThet_t3 + 2*m4*xC4_1*cos(thet1 + thet2 + thet3)*derThet_t2*derThet_t3 - m3*xC3_1*cos(thet1 + thet2)*derPhi_t1*derThet_t1 - m3*xC3_1*cos(thet1 + thet2)*derPhi_t1*derThet_t2 - m4*xC3_1*cos(thet1 + thet2)*derPhi_t1*derThet_t1 - m4*xC3_1*cos(thet1 + thet2)*derPhi_t1*derThet_t2 + m4*xC3_2*cos(thet1 + thet2)*derPhi_t1*derThet_t1 + m4*xC3_2*cos(thet1 + thet2)*derPhi_t1*derThet_t2 + 2*m3*xC3_1*cos(thet1 + thet2)*derThet_t1*derThet_t2 + 2*m4*xC3_1*cos(thet1 + thet2)*derThet_t1*derThet_t2 - 2*m4*xC3_2*cos(thet1 + thet2)*derThet_t1*derThet_t2;
derB_t = m1*derVy_t + m2*derVy_t + m3*derVy_t + m4*derVy_t + m2*xC1_2*derderPhi_t1 + m3*xC1_2*derderPhi_t1 + m4*xC1_2*derderPhi_t1 - m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t1^2 - m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t2^2 - m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t3^2 - m3*xC3_1*sin(thet1 + thet2)*derThet_t1^2 - m3*xC3_1*sin(thet1 + thet2)*derThet_t2^2 - m4*xC3_1*sin(thet1 + thet2)*derThet_t1^2 - m4*xC3_1*sin(thet1 + thet2)*derThet_t2^2 + m4*xC3_2*sin(thet1 + thet2)*derThet_t1^2 + m4*xC3_2*sin(thet1 + thet2)*derThet_t2^2 - m2*xC2_1*cos(thet1)*derderPhi_t1 - m3*xC2_1*cos(thet1)*derderPhi_t1 + m3*xC2_2*cos(thet1)*derderPhi_t1 - m4*xC2_1*cos(thet1)*derderPhi_t1 + m4*xC2_2*cos(thet1)*derderPhi_t1 + m2*xC2_1*cos(thet1)*derderThet_t1 + m3*xC2_1*cos(thet1)*derderThet_t1 - m3*xC2_2*cos(thet1)*derderThet_t1 + m4*xC2_1*cos(thet1)*derderThet_t1 - m4*xC2_2*cos(thet1)*derderThet_t1 - m4*xC4_1*cos(thet1 + thet2 + thet3)*derderPhi_t1 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derderThet_t1 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derderThet_t2 + m4*xC4_1*cos(thet1 + thet2 + thet3)*derderThet_t3 - m3*xC3_1*cos(thet1 + thet2)*derderPhi_t1 - m4*xC3_1*cos(thet1 + thet2)*derderPhi_t1 + m4*xC3_2*cos(thet1 + thet2)*derderPhi_t1 + m3*xC3_1*cos(thet1 + thet2)*derderThet_t1 + m3*xC3_1*cos(thet1 + thet2)*derderThet_t2 + m4*xC3_1*cos(thet1 + thet2)*derderThet_t1 + m4*xC3_1*cos(thet1 + thet2)*derderThet_t2 - m4*xC3_2*cos(thet1 + thet2)*derderThet_t1 - m4*xC3_2*cos(thet1 + thet2)*derderThet_t2 - m2*xC2_1*sin(thet1)*derThet_t1^2 - m3*xC2_1*sin(thet1)*derThet_t1^2 + m3*xC2_2*sin(thet1)*derThet_t1^2 - m4*xC2_1*sin(thet1)*derThet_t1^2 + m4*xC2_2*sin(thet1)*derThet_t1^2 + m2*xC2_1*sin(thet1)*derPhi_t1*derThet_t1 + m3*xC2_1*sin(thet1)*derPhi_t1*derThet_t1 - m3*xC2_2*sin(thet1)*derPhi_t1*derThet_t1 + m4*xC2_1*sin(thet1)*derPhi_t1*derThet_t1 - m4*xC2_2*sin(thet1)*derPhi_t1*derThet_t1 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derPhi_t1*derThet_t1 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derPhi_t1*derThet_t2 + m4*xC4_1*sin(thet1 + thet2 + thet3)*derPhi_t1*derThet_t3 - 2*m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t1*derThet_t2 - 2*m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t1*derThet_t3 - 2*m4*xC4_1*sin(thet1 + thet2 + thet3)*derThet_t2*derThet_t3 + m3*xC3_1*sin(thet1 + thet2)*derPhi_t1*derThet_t1 + m3*xC3_1*sin(thet1 + thet2)*derPhi_t1*derThet_t2 + m4*xC3_1*sin(thet1 + thet2)*derPhi_t1*derThet_t1 + m4*xC3_1*sin(thet1 + thet2)*derPhi_t1*derThet_t2 - m4*xC3_2*sin(thet1 + thet2)*derPhi_t1*derThet_t1 - m4*xC3_2*sin(thet1 + thet2)*derPhi_t1*derThet_t2 - 2*m3*xC3_1*sin(thet1 + thet2)*derThet_t1*derThet_t2 - 2*m4*xC3_1*sin(thet1 + thet2)*derThet_t1*derThet_t2 + 2*m4*xC3_2*sin(thet1 + thet2)*derThet_t1*derThet_t2;
Qx = cos(phi1)*(Fxw2_1*cos(phi1 - thet1) + cos(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 + cos(phi1)*Fxw1_2 + cos(del1_1 + phi1)*Fxw1_1 + Fxw4_1*cos(thet1 - phi1 + thet2 + thet3) + Fxw3_2*cos(thet1 - phi1 + thet2) + g*m2*sin(pitchAng2)*cos(phi1 - thet1) - g*m2*sin(bankAng2)*sin(phi1 - thet1) + g*m1*cos(phi1)*sin(pitchAng1) - g*m1*sin(phi1)*sin(bankAng1) - (AfcdRhoa*cos(phi1)*sign(vx)*vx^2)/2 + g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) + g*m3*cos(thet1 - phi1 + thet2)*sin(pitchAng3) + g*m3*sin(bankAng3)*sin(thet1 - phi1 + thet2) + (C1_2*nW1_2*real((1 - Fxw1_2^2/(Fz0A1_2^2*e^2*mu1_2^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*sin(phi1)*(cos(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) + sin(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)))/abs(sin(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) - cos(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)) + (C1_1*nW1_1*real((1 - Fxw1_1^2/(Fz0A1_1^2*e^2*mu1_1^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*sin(del1_1 + phi1)*(cos(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) + sin(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)))/abs(sin(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) - cos(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)) + (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*sin(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) - (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*sin(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))) - (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C3_1*nW3_1*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(del3_1 + phi1 - thet1 - thet2)*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1)))) - sin(phi1)*(Fxw3_2*sin(thet1 - phi1 + thet2) - Fxw2_1*sin(phi1 - thet1) - sin(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 - sin(phi1)*Fxw1_2 - sin(del1_1 + phi1)*Fxw1_1 + Fxw4_1*sin(thet1 - phi1 + thet2 + thet3) - g*m2*sin(pitchAng2)*sin(phi1 - thet1) - g*m1*cos(phi1)*sin(bankAng1) - g*m1*sin(phi1)*sin(pitchAng1) + (AfcdRhoa*sin(phi1)*sign(vx)*vx^2)/2 - g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) - g*m3*sin(bankAng3)*cos(thet1 - phi1 + thet2) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) - g*m2*sin(bankAng2)*cos(phi1 - thet1) + g*m3*sin(pitchAng3)*sin(thet1 - phi1 + thet2) + (C1_1*nW1_1*real((1 - Fxw1_1^2/(Fz0A1_1^2*e^2*mu1_1^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*cos(del1_1 + phi1)*(cos(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) + sin(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)))/abs(sin(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) - cos(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)) + (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*cos(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*cos(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))) + (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*cos(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C3_1*nW3_1*cos(del3_1 + phi1 - thet1 - thet2)*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C1_2*nW1_2*real((1 - Fxw1_2^2/(Fz0A1_2^2*e^2*mu1_2^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*cos(phi1)*(cos(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) + sin(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)))/abs(sin(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) - cos(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)));
Qy = - sin(phi1)*(Fxw2_1*cos(phi1 - thet1) + cos(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 + cos(phi1)*Fxw1_2 + cos(del1_1 + phi1)*Fxw1_1 + Fxw4_1*cos(thet1 - phi1 + thet2 + thet3) + Fxw3_2*cos(thet1 - phi1 + thet2) + g*m2*sin(pitchAng2)*cos(phi1 - thet1) - g*m2*sin(bankAng2)*sin(phi1 - thet1) + g*m1*cos(phi1)*sin(pitchAng1) - g*m1*sin(phi1)*sin(bankAng1) - (AfcdRhoa*cos(phi1)*sign(vx)*vx^2)/2 + g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) + g*m3*cos(thet1 - phi1 + thet2)*sin(pitchAng3) + g*m3*sin(bankAng3)*sin(thet1 - phi1 + thet2) + (C1_2*nW1_2*real((1 - Fxw1_2^2/(Fz0A1_2^2*e^2*mu1_2^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*sin(phi1)*(cos(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) + sin(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)))/abs(sin(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) - cos(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)) + (C1_1*nW1_1*real((1 - Fxw1_1^2/(Fz0A1_1^2*e^2*mu1_1^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*sin(del1_1 + phi1)*(cos(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) + sin(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)))/abs(sin(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) - cos(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)) + (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*sin(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) - (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*sin(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))) - (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C3_1*nW3_1*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(del3_1 + phi1 - thet1 - thet2)*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1)))) - cos(phi1)*(Fxw3_2*sin(thet1 - phi1 + thet2) - Fxw2_1*sin(phi1 - thet1) - sin(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 - sin(phi1)*Fxw1_2 - sin(del1_1 + phi1)*Fxw1_1 + Fxw4_1*sin(thet1 - phi1 + thet2 + thet3) - g*m2*sin(pitchAng2)*sin(phi1 - thet1) - g*m1*cos(phi1)*sin(bankAng1) - g*m1*sin(phi1)*sin(pitchAng1) + (AfcdRhoa*sin(phi1)*sign(vx)*vx^2)/2 - g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) - g*m3*sin(bankAng3)*cos(thet1 - phi1 + thet2) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) - g*m2*sin(bankAng2)*cos(phi1 - thet1) + g*m3*sin(pitchAng3)*sin(thet1 - phi1 + thet2) + (C1_1*nW1_1*real((1 - Fxw1_1^2/(Fz0A1_1^2*e^2*mu1_1^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*cos(del1_1 + phi1)*(cos(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) + sin(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)))/abs(sin(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) - cos(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)) + (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*cos(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*cos(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))) + (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*cos(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C3_1*nW3_1*cos(del3_1 + phi1 - thet1 - thet2)*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))) + (C1_2*nW1_2*real((1 - Fxw1_2^2/(Fz0A1_2^2*e^2*mu1_2^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*cos(phi1)*(cos(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) + sin(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)))/abs(sin(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) - cos(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)));
Qphi1 = (xC1_2*cos(phi1) - xC2_1*cos(phi1 - thet1))*(g*m2*sin(pitchAng2)*sin(phi1 - thet1) + g*m2*sin(bankAng2)*cos(phi1 - thet1)) + (Fxw2_1*sin(phi1 - thet1) - (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*cos(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xC1_2*cos(phi1) + xA2_1*cos(phi1 - thet1) - xC2_1*cos(phi1 - thet1)) + (sin(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 - (C3_1*nW3_1*cos(del3_1 + phi1 - thet1 - thet2)*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xC1_2*cos(phi1) + xA3_1*cos(thet1 - phi1 + thet2) - xC3_1*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) - (Fxw3_2*cos(thet1 - phi1 + thet2) - (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xC1_2*sin(phi1) - xA3_2*sin(thet1 - phi1 + thet2) + xC3_1*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) - (xC1_2*sin(phi1) - xC2_1*sin(phi1 - thet1))*(g*m2*sin(pitchAng2)*cos(phi1 - thet1) - g*m2*sin(bankAng2)*sin(phi1 - thet1)) - (Fxw2_1*cos(phi1 - thet1) + (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*sin(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xC1_2*sin(phi1) + xA2_1*sin(phi1 - thet1) - xC2_1*sin(phi1 - thet1)) + (g*m3*sin(bankAng3)*cos(thet1 - phi1 + thet2) - g*m3*sin(pitchAng3)*sin(thet1 - phi1 + thet2))*(xC1_2*cos(phi1) - xC3_1*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) + (g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) - g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4))*(xC1_2*cos(phi1) - xC4_1*cos(thet1 - phi1 + thet2 + thet3) - xC3_1*cos(thet1 - phi1 + thet2) + xC3_2*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) - (cos(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 + (C3_1*nW3_1*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(del3_1 + phi1 - thet1 - thet2)*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xC1_2*sin(phi1) - xA3_1*sin(thet1 - phi1 + thet2) + xC3_1*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) - (Fxw4_1*sin(thet1 - phi1 + thet2 + thet3) + (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*cos(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xC1_2*cos(phi1) + xA4_1*cos(thet1 - phi1 + thet2 + thet3) - xC4_1*cos(thet1 - phi1 + thet2 + thet3) - xC3_1*cos(thet1 - phi1 + thet2) + xC3_2*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) - (g*m3*cos(thet1 - phi1 + thet2)*sin(pitchAng3) + g*m3*sin(bankAng3)*sin(thet1 - phi1 + thet2))*(xC1_2*sin(phi1) + xC3_1*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) - (g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(bankAng4))*(xC1_2*sin(phi1) + xC4_1*sin(thet1 - phi1 + thet2 + thet3) + xC3_1*sin(thet1 - phi1 + thet2) - xC3_2*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) - (Fxw3_2*sin(thet1 - phi1 + thet2) + (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*cos(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xC1_2*cos(phi1) + xA3_2*cos(thet1 - phi1 + thet2) - xC3_1*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) - (Fxw4_1*cos(thet1 - phi1 + thet2 + thet3) - (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*sin(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xC1_2*sin(phi1) - xA4_1*sin(thet1 - phi1 + thet2 + thet3) + xC4_1*sin(thet1 - phi1 + thet2 + thet3) + xC3_1*sin(thet1 - phi1 + thet2) - xC3_2*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) + xA1_1*cos(phi1)*(sin(del1_1 + phi1)*Fxw1_1 - (C1_1*nW1_1*real((1 - Fxw1_1^2/(Fz0A1_1^2*e^2*mu1_1^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*cos(del1_1 + phi1)*(cos(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) + sin(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)))/abs(sin(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) - cos(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1))) - xA1_1*sin(phi1)*(cos(del1_1 + phi1)*Fxw1_1 + (C1_1*nW1_1*real((1 - Fxw1_1^2/(Fz0A1_1^2*e^2*mu1_1^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*sin(del1_1 + phi1)*(cos(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) + sin(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1)))/abs(sin(del1_1 + phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_1*cos(phi1)*derPhi_t1) - cos(del1_1 + phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_1*sin(phi1)*derPhi_t1))) + xA1_2*cos(phi1)*(sin(phi1)*Fxw1_2 - (C1_2*nW1_2*real((1 - Fxw1_2^2/(Fz0A1_2^2*e^2*mu1_2^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*cos(phi1)*(cos(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) + sin(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)))/abs(sin(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) - cos(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1))) - xA1_2*sin(phi1)*(cos(phi1)*Fxw1_2 + (C1_2*nW1_2*real((1 - Fxw1_2^2/(Fz0A1_2^2*e^2*mu1_2^2*cos(bankAng1)^2*cos(pitchAng1)^2))^(1/2))*sin(phi1)*(cos(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) + sin(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)))/abs(sin(phi1)*(cos(phi1)*vy + sin(phi1)*vx + xA1_2*cos(phi1)*derPhi_t1) - cos(phi1)*(sin(phi1)*vy - cos(phi1)*vx + xA1_2*sin(phi1)*derPhi_t1)));
derT_phi1 = A*vy-B*vx;
derderT_derPhi1_t = J1*derderPhi_t1 + J2*derderPhi_t1 + J3*derderPhi_t1 + J4*derderPhi_t1 - J2*derderThet_t1 - J3*derderThet_t1 - J3*derderThet_t2 - J4*derderThet_t1 - J4*derderThet_t2 - J4*derderThet_t3 + m2*xC1_2^2*cos(phi1)^2*derderPhi_t1 + m3*xC1_2^2*cos(phi1)^2*derderPhi_t1 + m4*xC1_2^2*cos(phi1)^2*derderPhi_t1 + m2*xC1_2^2*sin(phi1)^2*derderPhi_t1 + m3*xC1_2^2*sin(phi1)^2*derderPhi_t1 + m4*xC1_2^2*sin(phi1)^2*derderPhi_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 - m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 - m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 - m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 - m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 - m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 - m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 + m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 + m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 + m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 - m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 - m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 - m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 - m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 - m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + m3*xC3_1^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 + m4*xC3_1^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 + m4*xC3_2^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - m3*xC3_1^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 - m3*xC3_1^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 - m4*xC3_1^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 - m4*xC3_1^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 - m4*xC3_2^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 - m4*xC3_2^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + m2*xC1_2*cos(phi1)^2*derVy_t + m3*xC1_2*cos(phi1)^2*derVy_t + m4*xC1_2*cos(phi1)^2*derVy_t + m2*xC2_1^2*derderPhi_t1*cos(phi1 - thet1)^2 + m3*xC2_1^2*derderPhi_t1*cos(phi1 - thet1)^2 + m3*xC2_2^2*derderPhi_t1*cos(phi1 - thet1)^2 + m4*xC2_1^2*derderPhi_t1*cos(phi1 - thet1)^2 + m4*xC2_2^2*derderPhi_t1*cos(phi1 - thet1)^2 - m2*xC2_1^2*derderThet_t1*cos(phi1 - thet1)^2 - m3*xC2_1^2*derderThet_t1*cos(phi1 - thet1)^2 - m3*xC2_2^2*derderThet_t1*cos(phi1 - thet1)^2 - m4*xC2_1^2*derderThet_t1*cos(phi1 - thet1)^2 - m4*xC2_2^2*derderThet_t1*cos(phi1 - thet1)^2 + m2*xC1_2*sin(phi1)^2*derVy_t + m3*xC1_2*sin(phi1)^2*derVy_t + m4*xC1_2*sin(phi1)^2*derVy_t + m2*xC2_1^2*derderPhi_t1*sin(phi1 - thet1)^2 + m3*xC2_1^2*derderPhi_t1*sin(phi1 - thet1)^2 + m3*xC2_2^2*derderPhi_t1*sin(phi1 - thet1)^2 + m4*xC2_1^2*derderPhi_t1*sin(phi1 - thet1)^2 + m4*xC2_2^2*derderPhi_t1*sin(phi1 - thet1)^2 - m2*xC2_1^2*derderThet_t1*sin(phi1 - thet1)^2 - m3*xC2_1^2*derderThet_t1*sin(phi1 - thet1)^2 - m3*xC2_2^2*derderThet_t1*sin(phi1 - thet1)^2 - m4*xC2_1^2*derderThet_t1*sin(phi1 - thet1)^2 - m4*xC2_2^2*derderThet_t1*sin(phi1 - thet1)^2 - m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVy_t - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVx_t - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVx_t - m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t - m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t + m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t + m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVy_t - m3*xC3_1*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t - m4*xC3_1*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t + m4*xC3_2*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t - m2*xC2_1*cos(phi1)*derVy_t*cos(phi1 - thet1) - m3*xC2_1*cos(phi1)*derVy_t*cos(phi1 - thet1) + m3*xC2_2*cos(phi1)*derVy_t*cos(phi1 - thet1) - m4*xC2_1*cos(phi1)*derVy_t*cos(phi1 - thet1) + m4*xC2_2*cos(phi1)*derVy_t*cos(phi1 - thet1) + m3*xC3_1*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) + m4*xC3_1*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) - m4*xC3_2*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) + m2*xC2_1*cos(phi1)*derVx_t*sin(phi1 - thet1) - m2*xC2_1*sin(phi1)*derVx_t*cos(phi1 - thet1) + m3*xC2_1*cos(phi1)*derVx_t*sin(phi1 - thet1) - m3*xC2_1*sin(phi1)*derVx_t*cos(phi1 - thet1) - m3*xC2_2*cos(phi1)*derVx_t*sin(phi1 - thet1) + m3*xC2_2*sin(phi1)*derVx_t*cos(phi1 - thet1) + m4*xC2_1*cos(phi1)*derVx_t*sin(phi1 - thet1) - m4*xC2_1*sin(phi1)*derVx_t*cos(phi1 - thet1) - m4*xC2_2*cos(phi1)*derVx_t*sin(phi1 - thet1) + m4*xC2_2*sin(phi1)*derVx_t*cos(phi1 - thet1) - m2*xC2_1*sin(phi1)*derVy_t*sin(phi1 - thet1) - m3*xC2_1*sin(phi1)*derVy_t*sin(phi1 - thet1) + m3*xC2_2*sin(phi1)*derVy_t*sin(phi1 - thet1) - m4*xC2_1*sin(phi1)*derVy_t*sin(phi1 - thet1) + m4*xC2_2*sin(phi1)*derVy_t*sin(phi1 - thet1) - 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 + 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 - 2*m4*xC3_1*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 + 2*m4*xC3_1*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + 2*m4*xC3_1*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 - 2*m3*xC2_1*xC2_2*derderPhi_t1*cos(phi1 - thet1)^2 - 2*m4*xC2_1*xC2_2*derderPhi_t1*cos(phi1 - thet1)^2 + 2*m3*xC2_1*xC2_2*derderThet_t1*cos(phi1 - thet1)^2 + 2*m4*xC2_1*xC2_2*derderThet_t1*cos(phi1 - thet1)^2 - 2*m3*xC2_1*xC2_2*derderPhi_t1*sin(phi1 - thet1)^2 - 2*m4*xC2_1*xC2_2*derderPhi_t1*sin(phi1 - thet1)^2 + 2*m3*xC2_1*xC2_2*derderThet_t1*sin(phi1 - thet1)^2 + 2*m4*xC2_1*xC2_2*derderThet_t1*sin(phi1 - thet1)^2 + 2*m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + 2*m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy + 2*m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + 2*m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + 2*m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + 2*m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - 2*m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - 2*m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t3 + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t3 + m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx + m3*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy + m4*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m4*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - 2*m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + 2*m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - 2*m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + 2*m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + 2*m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - 2*m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - 2*m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + 2*m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + 2*m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - 2*m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - m2*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - m3*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m3*xC2_2*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - m4*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m4*xC2_2*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t2*cos(phi1 - thet1) + 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t3*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t2*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t3*cos(phi1 - thet1) + m3*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_2*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(thet1 - phi1 + thet2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(thet1 - phi1 + thet2) - m2*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m2*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m3*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m3*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m3*xC2_2*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m3*xC2_2*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m4*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m4*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m4*xC2_2*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m4*xC2_2*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) + 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) + 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) - 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) - m2*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - m3*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m3*xC2_2*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - m4*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m4*xC2_2*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) + 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(phi1 - thet1) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(phi1 - thet1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(phi1 - thet1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(phi1 - thet1) + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m3*xC2_1*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m3*xC2_2*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_1*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_1*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_2*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_2*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m3*xC2_1*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m3*xC2_1*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m3*xC2_2*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_1*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m3*xC2_2*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_1*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_1*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_2*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_1*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_2*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_2*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_2*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 + m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1 + m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t2 + m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t3 + m3*xC3_1*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - 2*m4*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + 2*m4*xC1_2*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + m3*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderThet_t1 + m3*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderThet_t2 + m4*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderThet_t1 + m4*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderThet_t2 - m4*xC1_2*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derderThet_t1 - m4*xC1_2*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derderThet_t2 + m3*xC3_1*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 - m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1 - m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2 - m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3 - 2*m2*xC1_2*xC2_1*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) - 2*m3*xC1_2*xC2_1*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) + 2*m3*xC1_2*xC2_2*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC1_2*xC2_1*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC1_2*xC2_2*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) + m2*xC1_2*xC2_1*cos(phi1)*derderThet_t1*cos(phi1 - thet1) + m3*xC1_2*xC2_1*cos(phi1)*derderThet_t1*cos(phi1 - thet1) - m3*xC1_2*xC2_2*cos(phi1)*derderThet_t1*cos(phi1 - thet1) + m4*xC1_2*xC2_1*cos(phi1)*derderThet_t1*cos(phi1 - thet1) - m4*xC1_2*xC2_2*cos(phi1)*derderThet_t1*cos(phi1 - thet1) + 2*m3*xC1_2*xC3_1*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC1_2*xC3_1*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) - 2*m4*xC1_2*xC3_2*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*derderThet_t1*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*derderThet_t2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*derderThet_t1*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*derderThet_t2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*derderThet_t1*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*derderThet_t2*sin(thet1 - phi1 + thet2) + m2*xC2_1*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m2*xC2_1*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m2*xC2_1*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m2*xC1_2*xC2_1*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) - 2*m3*xC1_2*xC2_1*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) + 2*m3*xC1_2*xC2_2*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) - 2*m4*xC1_2*xC2_1*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) + 2*m4*xC1_2*xC2_2*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) + m2*xC1_2*xC2_1*sin(phi1)*derderThet_t1*sin(phi1 - thet1) + m3*xC1_2*xC2_1*sin(phi1)*derderThet_t1*sin(phi1 - thet1) - m3*xC1_2*xC2_2*sin(phi1)*derderThet_t1*sin(phi1 - thet1) + m4*xC1_2*xC2_1*sin(phi1)*derderThet_t1*sin(phi1 - thet1) - m4*xC1_2*xC2_2*sin(phi1)*derderThet_t1*sin(phi1 - thet1) + m2*xC2_1*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC1_2*xC3_1*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC1_2*xC3_1*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m2*xC1_2*xC2_1*cos(phi1)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m2*xC1_2*xC2_1*sin(phi1)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC1_2*xC2_1*cos(phi1)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC1_2*xC2_1*sin(phi1)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC1_2*xC2_2*cos(phi1)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC1_2*xC2_2*sin(phi1)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC2_1*cos(phi1)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC1_2*xC2_1*sin(phi1)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC1_2*xC2_2*cos(phi1)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC2_2*sin(phi1)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 - 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) + m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) + m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1);
Qthet1 = (xA2_1*sin(phi1 - thet1) - xC2_1*sin(phi1 - thet1))*(Fxw2_1*cos(phi1 - thet1) + (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*sin(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1)))) - (sin(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 - (C3_1*nW3_1*cos(del3_1 + phi1 - thet1 - thet2)*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_1*cos(thet1 - phi1 + thet2) - xC3_1*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) - (Fxw3_2*cos(thet1 - phi1 + thet2) - (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_2*sin(thet1 - phi1 + thet2) - xC3_1*sin(thet1 - phi1 + thet2) + xC2_1*sin(phi1 - thet1) - xC2_2*sin(phi1 - thet1)) + (g*m3*sin(bankAng3)*cos(thet1 - phi1 + thet2) - g*m3*sin(pitchAng3)*sin(thet1 - phi1 + thet2))*(xC3_1*cos(thet1 - phi1 + thet2) + xC2_1*cos(phi1 - thet1) - xC2_2*cos(phi1 - thet1)) - (cos(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 + (C3_1*nW3_1*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(del3_1 + phi1 - thet1 - thet2)*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_1*sin(thet1 - phi1 + thet2) - xC3_1*sin(thet1 - phi1 + thet2) + xC2_1*sin(phi1 - thet1) - xC2_2*sin(phi1 - thet1)) + (g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) - g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4))*(xC4_1*cos(thet1 - phi1 + thet2 + thet3) + xC3_1*cos(thet1 - phi1 + thet2) - xC3_2*cos(thet1 - phi1 + thet2) + xC2_1*cos(phi1 - thet1) - xC2_2*cos(phi1 - thet1)) + (Fxw4_1*sin(thet1 - phi1 + thet2 + thet3) + (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*cos(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xA4_1*cos(thet1 - phi1 + thet2 + thet3) - xC4_1*cos(thet1 - phi1 + thet2 + thet3) - xC3_1*cos(thet1 - phi1 + thet2) + xC3_2*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) + (g*m3*cos(thet1 - phi1 + thet2)*sin(pitchAng3) + g*m3*sin(bankAng3)*sin(thet1 - phi1 + thet2))*(xC3_1*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) + (g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(bankAng4))*(xC4_1*sin(thet1 - phi1 + thet2 + thet3) + xC3_1*sin(thet1 - phi1 + thet2) - xC3_2*sin(thet1 - phi1 + thet2) - xC2_1*sin(phi1 - thet1) + xC2_2*sin(phi1 - thet1)) + (Fxw3_2*sin(thet1 - phi1 + thet2) + (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*cos(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_2*cos(thet1 - phi1 + thet2) - xC3_1*cos(thet1 - phi1 + thet2) - xC2_1*cos(phi1 - thet1) + xC2_2*cos(phi1 - thet1)) - (Fxw4_1*cos(thet1 - phi1 + thet2 + thet3) - (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*sin(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xA4_1*sin(thet1 - phi1 + thet2 + thet3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3) - xC3_1*sin(thet1 - phi1 + thet2) + xC3_2*sin(thet1 - phi1 + thet2) + xC2_1*sin(phi1 - thet1) - xC2_2*sin(phi1 - thet1)) - (Fxw2_1*sin(phi1 - thet1) - (C2_1*nW2_1*real((1 - Fxw2_1^2/(Fz0A2_1^2*e^2*mu2_1^2*cos(bankAng2)^2*cos(pitchAng2)^2))^(1/2))*cos(phi1 - thet1)*(cos(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) + sin(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(phi1 - thet1)*(cos(phi1)*vy + sin(phi1)*vx + xA2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC1_2*cos(phi1)*derPhi_t1) - cos(phi1 - thet1)*(sin(phi1)*vy - cos(phi1)*vx + xC1_2*sin(phi1)*derPhi_t1 + xA2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA2_1*cos(phi1 - thet1) - xC2_1*cos(phi1 - thet1)) + xC2_1*cos(phi1 - thet1)*(g*m2*sin(pitchAng2)*sin(phi1 - thet1) + g*m2*sin(bankAng2)*cos(phi1 - thet1)) - xC2_1*sin(phi1 - thet1)*(g*m2*sin(pitchAng2)*cos(phi1 - thet1) - g*m2*sin(bankAng2)*sin(phi1 - thet1));
derT_thet1 = m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*vx + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*vx + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*vx + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*vy - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*vy - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*vy + m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vx + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vx + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vx + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vx - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vx - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vx + m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*vx - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*vx - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*vx + m3*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy + m4*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m4*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m3*xC3_1*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vy - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vy - m3*xC3_1*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vy - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vy - m4*xC3_1*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vy - m4*xC3_1*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vy - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vy + m4*xC3_2*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vy + m4*xC3_2*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vy + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vy - m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - m2*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - m3*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m3*xC2_2*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - m4*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m4*xC2_2*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m2*xC2_1*cos(phi1)*derThet_t1*vx*cos(phi1 - thet1) + m3*xC2_1*cos(phi1)*derThet_t1*vx*cos(phi1 - thet1) - m3*xC2_2*cos(phi1)*derThet_t1*vx*cos(phi1 - thet1) + m4*xC2_1*cos(phi1)*derThet_t1*vx*cos(phi1 - thet1) - m4*xC2_2*cos(phi1)*derThet_t1*vx*cos(phi1 - thet1) + m3*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_2*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m3*xC3_1*sin(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vx - m3*xC3_1*sin(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vx - m4*xC3_1*sin(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_1*sin(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vx + m4*xC3_2*sin(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_2*sin(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vx - m2*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m2*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m3*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m3*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m3*xC2_2*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m3*xC2_2*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m4*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m4*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m4*xC2_2*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m4*xC2_2*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m2*xC2_1*cos(phi1)*derThet_t1*vy*sin(phi1 - thet1) - m2*xC2_1*sin(phi1)*derThet_t1*vy*cos(phi1 - thet1) + m3*xC2_1*cos(phi1)*derThet_t1*vy*sin(phi1 - thet1) - m3*xC2_1*sin(phi1)*derThet_t1*vy*cos(phi1 - thet1) - m3*xC2_2*cos(phi1)*derThet_t1*vy*sin(phi1 - thet1) + m3*xC2_2*sin(phi1)*derThet_t1*vy*cos(phi1 - thet1) + m4*xC2_1*cos(phi1)*derThet_t1*vy*sin(phi1 - thet1) - m4*xC2_1*sin(phi1)*derThet_t1*vy*cos(phi1 - thet1) - m4*xC2_2*cos(phi1)*derThet_t1*vy*sin(phi1 - thet1) + m4*xC2_2*sin(phi1)*derThet_t1*vy*cos(phi1 - thet1) - m2*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - m3*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m3*xC2_2*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - m4*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m4*xC2_2*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m2*xC2_1*sin(phi1)*derThet_t1*vx*sin(phi1 - thet1) + m3*xC2_1*sin(phi1)*derThet_t1*vx*sin(phi1 - thet1) - m3*xC2_2*sin(phi1)*derThet_t1*vx*sin(phi1 - thet1) + m4*xC2_1*sin(phi1)*derThet_t1*vx*sin(phi1 - thet1) - m4*xC2_2*sin(phi1)*derThet_t1*vx*sin(phi1 - thet1) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 + m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) + m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) + m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1*derThet_t1*cos(phi1 - thet1);
derderT_derThet_t1 = J2*derderThet_t1 - J3*derderPhi_t1 - J4*derderPhi_t1 - J2*derderPhi_t1 + J3*derderThet_t1 + J3*derderThet_t2 + J4*derderThet_t1 + J4*derderThet_t2 + J4*derderThet_t3 - m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 - m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 - m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 + m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 - m3*xC3_1^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - m4*xC3_1^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - m4*xC3_2^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 + m3*xC3_1^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + m3*xC3_1^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + m4*xC3_1^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + m4*xC3_1^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + m4*xC3_2^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + m4*xC3_2^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 - m2*xC2_1^2*derderPhi_t1*cos(phi1 - thet1)^2 - m3*xC2_1^2*derderPhi_t1*cos(phi1 - thet1)^2 - m3*xC2_2^2*derderPhi_t1*cos(phi1 - thet1)^2 - m4*xC2_1^2*derderPhi_t1*cos(phi1 - thet1)^2 - m4*xC2_2^2*derderPhi_t1*cos(phi1 - thet1)^2 + m2*xC2_1^2*derderThet_t1*cos(phi1 - thet1)^2 + m3*xC2_1^2*derderThet_t1*cos(phi1 - thet1)^2 + m3*xC2_2^2*derderThet_t1*cos(phi1 - thet1)^2 + m4*xC2_1^2*derderThet_t1*cos(phi1 - thet1)^2 + m4*xC2_2^2*derderThet_t1*cos(phi1 - thet1)^2 - m2*xC2_1^2*derderPhi_t1*sin(phi1 - thet1)^2 - m3*xC2_1^2*derderPhi_t1*sin(phi1 - thet1)^2 - m3*xC2_2^2*derderPhi_t1*sin(phi1 - thet1)^2 - m4*xC2_1^2*derderPhi_t1*sin(phi1 - thet1)^2 - m4*xC2_2^2*derderPhi_t1*sin(phi1 - thet1)^2 + m2*xC2_1^2*derderThet_t1*sin(phi1 - thet1)^2 + m3*xC2_1^2*derderThet_t1*sin(phi1 - thet1)^2 + m3*xC2_2^2*derderThet_t1*sin(phi1 - thet1)^2 + m4*xC2_1^2*derderThet_t1*sin(phi1 - thet1)^2 + m4*xC2_2^2*derderThet_t1*sin(phi1 - thet1)^2 + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVy_t + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVx_t + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVx_t + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVy_t + m3*xC3_1*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) + m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t + m4*xC3_1*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) + m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t - m4*xC3_2*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) - m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t + m2*xC2_1*cos(phi1)*derVy_t*cos(phi1 - thet1) + m3*xC2_1*cos(phi1)*derVy_t*cos(phi1 - thet1) - m3*xC2_2*cos(phi1)*derVy_t*cos(phi1 - thet1) + m4*xC2_1*cos(phi1)*derVy_t*cos(phi1 - thet1) - m4*xC2_2*cos(phi1)*derVy_t*cos(phi1 - thet1) - m3*xC3_1*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) - m4*xC3_1*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) + m4*xC3_2*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) - m2*xC2_1*cos(phi1)*derVx_t*sin(phi1 - thet1) + m2*xC2_1*sin(phi1)*derVx_t*cos(phi1 - thet1) - m3*xC2_1*cos(phi1)*derVx_t*sin(phi1 - thet1) + m3*xC2_1*sin(phi1)*derVx_t*cos(phi1 - thet1) + m3*xC2_2*cos(phi1)*derVx_t*sin(phi1 - thet1) - m3*xC2_2*sin(phi1)*derVx_t*cos(phi1 - thet1) - m4*xC2_1*cos(phi1)*derVx_t*sin(phi1 - thet1) + m4*xC2_1*sin(phi1)*derVx_t*cos(phi1 - thet1) + m4*xC2_2*cos(phi1)*derVx_t*sin(phi1 - thet1) - m4*xC2_2*sin(phi1)*derVx_t*cos(phi1 - thet1) + m2*xC2_1*sin(phi1)*derVy_t*sin(phi1 - thet1) + m3*xC2_1*sin(phi1)*derVy_t*sin(phi1 - thet1) - m3*xC2_2*sin(phi1)*derVy_t*sin(phi1 - thet1) + m4*xC2_1*sin(phi1)*derVy_t*sin(phi1 - thet1) - m4*xC2_2*sin(phi1)*derVy_t*sin(phi1 - thet1) + 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 - 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + 2*m4*xC3_1*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - 2*m4*xC3_1*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 - 2*m4*xC3_1*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + 2*m3*xC2_1*xC2_2*derderPhi_t1*cos(phi1 - thet1)^2 + 2*m4*xC2_1*xC2_2*derderPhi_t1*cos(phi1 - thet1)^2 - 2*m3*xC2_1*xC2_2*derderThet_t1*cos(phi1 - thet1)^2 - 2*m4*xC2_1*xC2_2*derderThet_t1*cos(phi1 - thet1)^2 + 2*m3*xC2_1*xC2_2*derderPhi_t1*sin(phi1 - thet1)^2 + 2*m4*xC2_1*xC2_2*derderPhi_t1*sin(phi1 - thet1)^2 - 2*m3*xC2_1*xC2_2*derderThet_t1*sin(phi1 - thet1)^2 - 2*m4*xC2_1*xC2_2*derderThet_t1*sin(phi1 - thet1)^2 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t3 - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t3 - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m3*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m4*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy + m4*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy + m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) - m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) - m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1^2*sin(phi1 - thet1) + m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1^2*cos(phi1 - thet1) + m2*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m3*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - m3*xC2_2*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) + m4*xC2_1*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - m4*xC2_2*cos(phi1)*derPhi_t1*vx*cos(phi1 - thet1) - 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t2*cos(phi1 - thet1) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t3*cos(phi1 - thet1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t2*cos(phi1 - thet1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t3*cos(phi1 - thet1) - m3*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_2*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(thet1 - phi1 + thet2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(thet1 - phi1 + thet2) + m2*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m2*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m3*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m3*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m3*xC2_2*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m3*xC2_2*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m4*xC2_1*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) - m4*xC2_1*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) - m4*xC2_2*cos(phi1)*derPhi_t1*vy*sin(phi1 - thet1) + m4*xC2_2*sin(phi1)*derPhi_t1*vy*cos(phi1 - thet1) + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t2*cos(phi1 - thet1) + m2*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m3*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - m3*xC2_2*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + m4*xC2_1*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) - m4*xC2_2*sin(phi1)*derPhi_t1*vx*sin(phi1 - thet1) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) - 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(phi1 - thet1) + 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(phi1 - thet1) - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m3*xC2_1*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m3*xC2_2*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_1*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_1*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_2*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_2*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m3*xC2_1*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m3*xC2_1*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m3*xC2_2*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_1*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m3*xC2_2*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_1*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_1*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + 2*m4*xC2_2*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_1*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_2*xC3_1*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - 2*m4*xC2_2*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_2*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 - m3*xC3_1*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + m4*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - m4*xC1_2*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - m3*xC3_1*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 + m2*xC1_2*xC2_1*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) + m3*xC1_2*xC2_1*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) - m3*xC1_2*xC2_2*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) + m4*xC1_2*xC2_1*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) - m4*xC1_2*xC2_2*cos(phi1)*derderPhi_t1*cos(phi1 - thet1) - m3*xC1_2*xC3_1*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) - m2*xC2_1*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*cos(phi1)*vx*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m2*xC2_1*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m2*xC2_1*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*cos(phi1)*vy*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*sin(phi1)*vy*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m2*xC1_2*xC2_1*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) + m3*xC1_2*xC2_1*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) - m3*xC1_2*xC2_2*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) + m4*xC1_2*xC2_1*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) - m4*xC1_2*xC2_2*sin(phi1)*derderPhi_t1*sin(phi1 - thet1) - m2*xC2_1*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*sin(phi1)*vx*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m2*xC1_2*xC2_1*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m2*xC1_2*xC2_1*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC1_2*xC2_1*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC1_2*xC2_1*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC1_2*xC2_2*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC1_2*xC2_2*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC2_1*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC1_2*xC2_1*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC1_2*xC2_2*cos(phi1)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC2_2*sin(phi1)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m3*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m3*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC2_2*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m3*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m3*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_1*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + 2*m4*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - 2*m4*xC2_2*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_2*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1);
Qthet2 = (Fxw3_2*sin(thet1 - phi1 + thet2) + (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*cos(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_2*cos(thet1 - phi1 + thet2) - xC3_1*cos(thet1 - phi1 + thet2)) - (Fxw4_1*cos(thet1 - phi1 + thet2 + thet3) - (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*sin(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xA4_1*sin(thet1 - phi1 + thet2 + thet3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3) - xC3_1*sin(thet1 - phi1 + thet2) + xC3_2*sin(thet1 - phi1 + thet2)) - (Fxw3_2*cos(thet1 - phi1 + thet2) - (C3_2*nW3_2*real((1 - Fxw3_2^2/(Fz0A3_2^2*e^2*mu3_2^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(thet1 - phi1 + thet2)*(cos(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(thet1 - phi1 + thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_2*sin(thet1 - phi1 + thet2) - xC3_1*sin(thet1 - phi1 + thet2)) - (sin(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 - (C3_1*nW3_1*cos(del3_1 + phi1 - thet1 - thet2)*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_1*cos(thet1 - phi1 + thet2) - xC3_1*cos(thet1 - phi1 + thet2)) - (cos(del3_1 + phi1 - thet1 - thet2)*Fxw3_1 + (C3_1*nW3_1*real((1 - Fxw3_1^2/(Fz0A3_1^2*e^2*mu3_1^2*cos(bankAng3)^2*cos(pitchAng3)^2))^(1/2))*sin(del3_1 + phi1 - thet1 - thet2)*(cos(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + sin(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))/abs(sin(del3_1 + phi1 - thet1 - thet2)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - cos(del3_1 + phi1 - thet1 - thet2)*(sin(phi1)*vy - cos(phi1)*vx + xA3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1))))*(xA3_1*sin(thet1 - phi1 + thet2) - xC3_1*sin(thet1 - phi1 + thet2)) + (g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) - g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4))*(xC4_1*cos(thet1 - phi1 + thet2 + thet3) + xC3_1*cos(thet1 - phi1 + thet2) - xC3_2*cos(thet1 - phi1 + thet2)) + (Fxw4_1*sin(thet1 - phi1 + thet2 + thet3) + (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*cos(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xA4_1*cos(thet1 - phi1 + thet2 + thet3) - xC4_1*cos(thet1 - phi1 + thet2 + thet3) - xC3_1*cos(thet1 - phi1 + thet2) + xC3_2*cos(thet1 - phi1 + thet2)) + (g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(bankAng4))*(xC4_1*sin(thet1 - phi1 + thet2 + thet3) + xC3_1*sin(thet1 - phi1 + thet2) - xC3_2*sin(thet1 - phi1 + thet2)) + xC3_1*cos(thet1 - phi1 + thet2)*(g*m3*sin(bankAng3)*cos(thet1 - phi1 + thet2) - g*m3*sin(pitchAng3)*sin(thet1 - phi1 + thet2)) + xC3_1*sin(thet1 - phi1 + thet2)*(g*m3*cos(thet1 - phi1 + thet2)*sin(pitchAng3) + g*m3*sin(bankAng3)*sin(thet1 - phi1 + thet2));
derT_thet2 = m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*vx + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*vx + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*vx + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*vy - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*vy - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*vy + m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vx + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vx + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vx + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vx - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vx - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vx + m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*vx - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*vx - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*vx + m3*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy + m4*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m4*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m3*xC3_1*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vy - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vy - m3*xC3_1*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vy - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vy - m4*xC3_1*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vy - m4*xC3_1*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vy - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vy + m4*xC3_2*cos(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t1*vy + m4*xC3_2*cos(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vy + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derThet_t2*vy + m3*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_2*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m3*xC3_1*sin(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vx - m3*xC3_1*sin(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vx - m4*xC3_1*sin(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_1*sin(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vx + m4*xC3_2*sin(phi1)*derThet_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_2*sin(phi1)*derThet_t2*sin(thet1 - phi1 + thet2)*vx - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*cos(phi1 - thet1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*cos(phi1 - thet1) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1^2*sin(phi1 - thet1) - m3*xC2_1*xC3_1*derPhi_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1^2*sin(phi1 - thet1) + m3*xC2_2*xC3_1*derPhi_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1^2*sin(phi1 - thet1) - m4*xC2_1*xC3_1*derPhi_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1^2*sin(phi1 - thet1) + m4*xC2_1*xC3_2*derPhi_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1^2*sin(phi1 - thet1) + m4*xC2_2*xC3_1*derPhi_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1^2*sin(phi1 - thet1) - m4*xC2_2*xC3_2*derPhi_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1^2*sin(phi1 - thet1) - m3*xC2_1*xC3_1*derThet_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1^2*sin(phi1 - thet1) + m3*xC2_2*xC3_1*derThet_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1^2*sin(phi1 - thet1) - m4*xC2_1*xC3_1*derThet_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1^2*sin(phi1 - thet1) + m4*xC2_1*xC3_2*derThet_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1^2*sin(phi1 - thet1) + m4*xC2_2*xC3_1*derThet_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1^2*sin(phi1 - thet1) - m4*xC2_2*xC3_2*derThet_t1^2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + 2*m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + 2*m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*sin(phi1 - thet1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*cos(phi1 - thet1) - 2*m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - 2*m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*sin(phi1 - thet1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*cos(phi1 - thet1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*sin(phi1 - thet1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*cos(phi1 - thet1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*sin(phi1 - thet1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*cos(phi1 - thet1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*cos(phi1 - thet1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*cos(phi1 - thet1) + 2*m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + 2*m3*xC2_1*xC3_1*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2*sin(phi1 - thet1) + m3*xC2_1*xC3_1*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - 2*m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - 2*m3*xC2_2*xC3_1*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + 2*m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + 2*m4*xC2_1*xC3_1*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2*sin(phi1 - thet1) - m3*xC2_2*xC3_1*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2*sin(phi1 - thet1) + m4*xC2_1*xC3_1*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - 2*m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - 2*m4*xC2_1*xC3_2*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - 2*m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - 2*m4*xC2_2*xC3_1*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2*sin(phi1 - thet1) - m4*xC2_1*xC3_2*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2*sin(phi1 - thet1) - m4*xC2_2*xC3_1*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + 2*m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + 2*m4*xC2_2*xC3_2*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2*sin(phi1 - thet1) + m4*xC2_2*xC3_2*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2*sin(phi1 - thet1) - m3*xC2_1*xC3_1*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2*sin(phi1 - thet1) + m3*xC2_2*xC3_1*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2*sin(phi1 - thet1) - m4*xC2_1*xC3_1*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2*sin(phi1 - thet1) + m4*xC2_1*xC3_2*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2*sin(phi1 - thet1) + m4*xC2_2*xC3_1*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2*sin(phi1 - thet1) - m4*xC2_2*xC3_2*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2;
derderT_derThet_t2 = J3*derderThet_t1 - J4*derderPhi_t1 - J3*derderPhi_t1 + J3*derderThet_t2 + J4*derderThet_t1 + J4*derderThet_t2 + J4*derderThet_t3 - m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 - m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 - m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 + m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + m3*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + m4*xC3_1^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 + m4*xC3_2^2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 - m3*xC3_1^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - m4*xC3_1^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - m4*xC3_2^2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 + m3*xC3_1^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + m3*xC3_1^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + m4*xC3_1^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + m4*xC3_1^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + m4*xC3_2^2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 + m4*xC3_2^2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVy_t + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVx_t + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVx_t + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derVy_t - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVy_t + m3*xC3_1*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) + m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t + m4*xC3_1*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) + m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t - m4*xC3_2*cos(phi1)*derVx_t*sin(thet1 - phi1 + thet2) - m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derVx_t - m3*xC3_1*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) - m4*xC3_1*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) + m4*xC3_2*sin(phi1)*derVy_t*sin(thet1 - phi1 + thet2) + 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderPhi_t1 - 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderThet_t1 - 2*m4*xC3_1*xC3_2*cos(thet1 - phi1 + thet2)^2*derderThet_t2 + 2*m4*xC3_1*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)^2 - 2*m4*xC3_1*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)^2 - 2*m4*xC3_1*xC3_2*derderThet_t2*sin(thet1 - phi1 + thet2)^2 - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vx - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t3 - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t3 - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m3*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m4*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy + m4*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vy + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*vy - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) - m3*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - m4*xC3_1*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx + m4*xC3_2*sin(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*vx - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(thet1 - phi1 + thet2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t3*sin(thet1 - phi1 + thet2) + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderPhi_t1*cos(phi1 - thet1) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derderThet_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m3*xC2_1*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m3*xC2_2*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_1*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_1*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_2*xC3_1*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_2*xC3_2*derderPhi_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m3*xC2_1*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m3*xC2_2*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_1*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_1*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m4*xC2_2*xC3_1*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) - m4*xC2_2*xC3_2*derderThet_t1*sin(thet1 - phi1 + thet2)*sin(phi1 - thet1) + m3*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 - m3*xC3_1*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*cos(phi1)*sin(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*vy*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + m4*xC1_2*xC3_1*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - m4*xC1_2*xC3_2*cos(phi1)*cos(thet1 - phi1 + thet2)*derderPhi_t1 - m3*xC3_1*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*sin(phi1)*sin(thet1 - phi1 + thet2)*vx*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 - m3*xC1_2*xC3_1*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) - m4*xC1_2*xC3_1*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) + m4*xC1_2*xC3_2*sin(phi1)*derderPhi_t1*sin(thet1 - phi1 + thet2) - m3*xC1_2*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC1_2*xC3_1*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*cos(phi1)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC1_2*xC3_2*sin(phi1)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2) + 2*m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - 2*m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t3*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m3*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m3*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC2_2*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_1*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_2*derPhi_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m3*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m3*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_1*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC3_1*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_2*cos(thet1 - phi1 + thet2)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC3_2*derThet_t1*sin(thet1 - phi1 + thet2)*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1);
Qthet3 = (Fxw4_1*sin(thet1 - phi1 + thet2 + thet3) + (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*cos(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xA4_1*cos(thet1 - phi1 + thet2 + thet3) - xC4_1*cos(thet1 - phi1 + thet2 + thet3)) - (Fxw4_1*cos(thet1 - phi1 + thet2 + thet3) - (C4_1*nW4_1*real((1 - Fxw4_1^2/(Fz0A4_1^2*e^2*mu4_1^2*cos(bankAng4)^2*cos(pitchAng4)^2))^(1/2))*sin(thet1 - phi1 + thet2 + thet3)*(cos(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) - sin(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))/abs(sin(thet1 - phi1 + thet2 + thet3)*(cos(phi1)*vy + sin(phi1)*vx - xC2_1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - xA4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + xC3_1*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - xC3_2*cos(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*cos(phi1)*derPhi_t1) + cos(thet1 - phi1 + thet2 + thet3)*(sin(phi1)*vy - cos(phi1)*vx - xC3_1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC3_2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + xC1_2*sin(phi1)*derPhi_t1 - xC2_1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xC2_2*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + xA4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3))))*(xA4_1*sin(thet1 - phi1 + thet2 + thet3) - xC4_1*sin(thet1 - phi1 + thet2 + thet3)) + xC4_1*cos(thet1 - phi1 + thet2 + thet3)*(g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(bankAng4) - g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4)) + xC4_1*sin(thet1 - phi1 + thet2 + thet3)*(g*m4*cos(thet1 - phi1 + thet2 + thet3)*sin(pitchAng4) + g*m4*sin(thet1 - phi1 + thet2 + thet3)*sin(bankAng4));
derT_thet3 = -m4*(xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*sin(thet1 - phi1 + thet2) + xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*sin(thet1 - phi1 + thet2) - xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1^2 - xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*sin(thet1 - phi1 + thet2) + xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1^2 - xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2^2*sin(thet1 - phi1 + thet2) + xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2^2 + xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*sin(thet1 - phi1 + thet2) - xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1^2 + xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2^2*sin(thet1 - phi1 + thet2) - xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2^2 + xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*sin(phi1 - thet1) + xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*cos(phi1 - thet1) - xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*sin(phi1 - thet1) - xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2*cos(phi1 - thet1) + xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*sin(phi1 - thet1) + xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*cos(phi1 - thet1) - xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*sin(phi1 - thet1) - xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1^2*cos(phi1 - thet1) - xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*vx - xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*vx - xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*vx - xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy + xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*vy + xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*vy + xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*vy + xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*vy + xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*vy + xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derThet_t3*vy - xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx + xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*vx + xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t2*vx + xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derThet_t3*vx + xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 + xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1 + xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 + xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2 + xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 + xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3 + 2*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) - 2*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 + 2*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) - 2*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 - 2*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*sin(thet1 - phi1 + thet2) + 2*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t1 + xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*sin(thet1 - phi1 + thet2) - xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t3 - 2*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*sin(thet1 - phi1 + thet2) + 2*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t2 - xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*sin(thet1 - phi1 + thet2) + xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*derThet_t3 - 2*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2) + 2*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2 - xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*sin(thet1 - phi1 + thet2) + xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t3 + 2*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*sin(thet1 - phi1 + thet2) - 2*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t2 - xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*derThet_t3*sin(thet1 - phi1 + thet2) + xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*derThet_t3 + xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*sin(thet1 - phi1 + thet2) - xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*derThet_t3 + xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*derThet_t3*sin(thet1 - phi1 + thet2) - xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*derThet_t3 - 2*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*sin(phi1 - thet1) - 2*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*sin(phi1 - thet1) - xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*cos(phi1 - thet1) + 2*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*sin(phi1 - thet1) + 2*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t1*cos(phi1 - thet1) - xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*sin(phi1 - thet1) - xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*cos(phi1 - thet1) + xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*sin(phi1 - thet1) + xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t2*cos(phi1 - thet1) + xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*sin(phi1 - thet1) + xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*derThet_t3*cos(phi1 - thet1) + xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*sin(phi1 - thet1) + xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*cos(phi1 - thet1) + xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*sin(phi1 - thet1) + xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*cos(phi1 - thet1) - xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*sin(phi1 - thet1) - xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t2*cos(phi1 - thet1) - xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*sin(phi1 - thet1) - xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*derThet_t3*cos(phi1 - thet1));
derderT_derThet_t3 = J4*derderThet_t1 - J4*derderPhi_t1 + J4*derderThet_t2 + J4*derderThet_t3 - m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 + m4*xC4_1^2*cos(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 - m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderPhi_t1 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t1 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t2 + m4*xC4_1^2*sin(thet1 - phi1 + thet2 + thet3)^2*derderThet_t3 + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVy_t + m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVx_t + m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derVx_t - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derVy_t - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1^2 + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vy - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderPhi_t1 + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t1 - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derderThet_t2 - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*vx - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*cos(phi1 - thet1) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derderThet_t1*cos(phi1 - thet1) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(thet1 - phi1 + thet2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(thet1 - phi1 + thet2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t2*sin(thet1 - phi1 + thet2) + m4*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1*sin(phi1 - thet1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derderThet_t1*sin(phi1 - thet1) - m4*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*vy*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*vx*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC1_2*xC4_1*cos(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 - m4*xC1_2*xC4_1*sin(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derderPhi_t1 - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) + m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t1*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC3_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t2*sin(thet1 - phi1 + thet2)*(derThet_t1 - derPhi_t1 + derThet_t2) - m4*xC3_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*cos(thet1 - phi1 + thet2)*derThet_t2*(derThet_t1 - derPhi_t1 + derThet_t2) + m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC2_1*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*cos(thet1 - phi1 + thet2 + thet3)*derThet_t1*sin(phi1 - thet1)*(derPhi_t1 - derThet_t1) + m4*xC2_2*xC4_1*sin(thet1 - phi1 + thet2 + thet3)*derThet_t1*cos(phi1 - thet1)*(derPhi_t1 - derThet_t1) - m4*xC1_2*xC4_1*cos(phi1)*sin(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3) - m4*xC1_2*xC4_1*sin(phi1)*cos(thet1 - phi1 + thet2 + thet3)*derPhi_t1*(derThet_t1 - derPhi_t1 + derThet_t2 + derThet_t3);

residualVal = zeros(nUnits+2,1);
residualVal(1) = derA_t - B*derPhi_t1 - Qx;
residualVal(2) = derB_t + A*derPhi_t1 - Qy;
residualVal(3) = derderT_derPhi1_t - derT_phi1 - Qphi1;
residualVal(4) = derderT_derThet_t1 - derT_thet1 - Qthet1;
residualVal(5) = derderT_derThet_t2 - derT_thet2 - Qthet2;
residualVal(6) = derderT_derThet_t3 - derT_thet3 - Qthet3;
res=zeros(12,1);
res(1:6,1)=y(7:12)-yp(1:6);
res(7:12,1) = residualVal;
